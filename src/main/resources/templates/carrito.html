<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous">
    <link rel="stylesheet" href="CSS/maqueta.css">
    <link rel="stylesheet" href="css/carrito.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Domine&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/e84be291c7.js" crossorigin="anonymous"></script>

    <title>Carrito</title>
</head>

<body>
    <header>
        <div th:replace="fragments-navbar-footer :: navbar"></div>
    </header>

    <input id="search" class="form-control mr-sm-2" type="search" placeholder="Search"
        aria-label="Search">

    <div class="card-group">
        <div class="card">
            <img class="card-img-top"
                src="https://gobar.vteximg.com.br/arquivos/ids/157475-1000-1000/Andes-origen-Rojas.jpg?v=637218867597230000"
                alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">Andes</h5>
                <p class="card-text tipo">cerveza</p>
                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
            </div>
        </div>
        <div class="card">
            <img class="card-img-top"
                src="https://margherita.com.ar/wp-content/uploads/2019/07/Vino-Elementos-malbec-750-ml.jpg"
                alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">Elementos</h5>
                <p class="card-text tipo">vino</p>
                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
            </div>
        </div>
        <div class="card">
            <img class="card-img-top"
                src="https://d2r9epyceweg5n.cloudfront.net/stores/001/064/758/products/fernet-branca21-21940c18d234457c6616060029867936-1024-1024.jpg"
                alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">Branca</h5>
                <p class="card-text tipo">fernet</p>
                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
            </div>
        </div>

    </div>

    <footer class="pie-pagina">
        <div th:replace="fragments-navbar-footer :: footer"></div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        const search = document.querySelector('#search');
        const cards = document.querySelector('.card-group')

        search.addEventListener('keyup', (e) => {

            // el objetivo es meter el array de objetos que llega de thymeleaf y devolver
            const term = e.target.value.toLowerCase();
            const marcas = cards.querySelectorAll('.card-title');
            const tipo = cards.querySelectorAll('.tipo');
            const todosLosArrays = Array.from([...marcas, ...tipo])

            console.log(todosLosArrays);
            todosLosArrays.map(ele => {
                const card = ele.parentElement.parentElement;

                if (term == '') {
                    card.classList.remove('hide')
                } else {
                    if (!ele.outerText.toLowerCase().includes(term)) {
                        card.classList.add('hide')
                    } else {
                        card.classList.remove('hide')
                    }
                }
            })

        })


    </script>
</body>

</html>